<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui"
>
  <h:head>
    <title>Listagem de produtos</title>
  </h:head>

  <h:body>
    <div class="card">
      <h:form id="form">
        <p:dataTable
          id="livros"
          var="l"
          value="#{livroBean.livros}"
          rowKey="#{livroBean.livro.id}"
          selectionMode="single"
          paginator="true"
          rows="5"
          paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
          rowsPerPageTemplate="5,10,15"
        >
          <f:facet name="header">
            Listagem dos livros cadastrados!
          </f:facet>

          <p:column headerText="Nome do Livro" sortBy="#{l.nome}">
            <h:outputText value="#{l.nome}" />
          </p:column>
          <p:column headerText="Autor">
            <h:outputText value="#{l.autor}" />
          </p:column>
          <p:column headerText="Editora">
            <h:outputText value="#{l.editora}" />
          </p:column>
          <p:column headerText="Código do livro">
            <h:outputText value="#{l.codigoLivro}" />
          </p:column>
          <p:column headerText="Ano de publicação">
            <h:outputText value="#{l.ano}" />
          </p:column>
          <h:column>
            <f:facet name="header">Editar</f:facet>
            <h:commandButton
              action="#{livroBean.atualizarLivro(l)}"
              value="Editar"
            ></h:commandButton>
          </h:column>
          <h:column>
            <f:facet name="header">Remover</f:facet>
            <h:commandButton
              action="#{livroBean.deletarLivro(l)}"
              value="Eliminar"
            ></h:commandButton>
          </h:column>
        </p:dataTable>
      </h:form>
    </div>
  </h:body>
</html>
